// Generated by CoffeeScript 1.12.7
(function() {
  var Hs, root;

  root = typeof exports !== "undefined" && exports !== null ? exports : this;

  root.Hs || (root.Hs = {});

  Hs = root.Hs;

  root.start_login = function() {
    return $.ajax({
      url: "/api/login",
      data: {
        username: $("#login_account").val(),
        password: $("#login_pwd").val()
      },
      dataType: 'json',
      type: 'POST',
      success: function(data) {
        var redirect_uri;
        console.log(data);
        if (data.info === "success") {
          if (data.action === "redirect") {
            redirect_uri = data.redirect_uri;
            return window.location.href = redirect_uri;
          }
        }
      },
      error: function(data) {
        return console.log(data);
      }
    });
  };

  root.start_logout = function() {
    var redirect_uri;
    redirect_uri = window.location.pathname + window.location.search;
    return window.location.href = "/api/logout?next=" + encodeURI(redirect_uri);
  };

}).call(this);
